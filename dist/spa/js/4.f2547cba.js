(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"13b7":function(e,t,r){"use strict";var a=r("b1f9"),i=r.n(a);i.a},"168b":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card-section",[r("div",{staticClass:"text-h6"},[e._t("default")],2)])},i=[],n={},s=n,o=r("2877"),c=r("eebe"),l=r.n(c),d=r("a370"),m=Object(o["a"])(s,a,i,!1,null,null,null);t["a"]=m.exports;l()(m,"components",{QCardSection:d["a"]})},5626:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card-actions",{attrs:{align:"right"}},[e._t("default")],2)},i=[],n={},s=n,o=r("2877"),c=r("eebe"),l=r.n(c),d=r("4b7e"),m=Object(o["a"])(s,a,i,!1,null,null,null);t["a"]=m.exports;l()(m,"components",{QCardActions:d["a"]})},ad5d:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card-section",{staticClass:"row items-center scroll"},[e._t("default")],2)},i=[],n={},s=n,o=r("2877"),c=r("eebe"),l=r.n(c),d=r("a370"),m=Object(o["a"])(s,a,i,!1,null,null,null);t["a"]=m.exports;l()(m,"components",{QCardSection:d["a"]})},b1f9:function(e,t,r){},d16d:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("q-list",{staticClass:"bg-white",attrs:{bordered:"",padding:""}},[r("q-item-label",{attrs:{header:""}},[r("h5",{staticClass:"q-my-none"},[e._v(e._s(e.type))])]),r("q-item-label",{attrs:{header:""}},[e._v("Order #"+e._s(e.routeParams))]),e._l(e.orderedItems,(function(t){return r("div",{key:t.id},["All Orders"===e.type||"Completed"===e.type?r("div",[e._l(t.item,(function(t){return r("q-item",{key:t.id},[r("q-item-section",{attrs:{avatar:""}},[r("q-img",{class:t.cancelled?"grayscale":"",attrs:{src:t.photo,"spinner-color":"white",width:"40px"}})],1),r("q-item-section",{class:t.cancelled?"col text-strike":"col"},[r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.name))]),r("q-item-label",{attrs:{caption:""}},[e._v("x"+e._s(t.qty))])],1)],1)})),r("div",{staticClass:"row text-right"},[r("div",{staticClass:"col-12"},[r("q-btn",{staticClass:"q-mx-lg",attrs:{color:"green",outline:"",size:"lg",disable:"",label:t.stage}}),"Packing"===e.type?r("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[r("ConfirmPacking")],1):e._e()],1)])],2):e._e(),"Processing"===e.type?r("div",e._l(t.item,(function(a){return r("q-item",{key:a.id},[r("q-item-section",[r("q-img",{class:a.cancelled?"grayscale":"",attrs:{src:a.photo,"spinner-color":"white",width:"50px"}})],1),r("q-item-section",{class:a.cancelled?"col text-strike":"col"},[r("q-item-label",[e._v(e._s(a.name)+" x"+e._s(a.qty))])],1),r("q-item-section",{attrs:{side:"",center:""}},[t.received?e._e():r("q-btn",{attrs:{color:a.prepaired?"green":"blue",dense:"sm"===e.$mq,disable:a.prepaired,glossy:"",label:a.prepaired?"Done":"Checked"},on:{click:function(e){a.confirm=!a.confirm}}}),r("q-dialog",{attrs:{persistent:""},model:{value:a.confirm,callback:function(t){e.$set(a,"confirm",t)},expression:"i.confirm"}},[r("Prepaired",{attrs:{i:a,dataTitle:"Processing"}})],1)],1)],1)})),1):e._e(),"Packing"===e.type?r("div",[e._l(t.item,(function(t){return r("q-item",{key:t.id},[r("q-item-section",{attrs:{avatar:""}},[r("q-checkbox",{model:{value:t.selected,callback:function(r){e.$set(t,"selected",r)},expression:"i.selected"}},[r("q-img",{class:t.cancelled?"grayscale":"",attrs:{src:t.photo,"spinner-color":"white",width:"40px"}})],1)],1),r("q-item-section",{class:t.cancelled?"col text-strike":"col"},[r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.name))]),r("q-item-label",{attrs:{caption:""}},[e._v("x"+e._s(t.qty))])],1)],1)})),r("div",{staticClass:"row text-right"},[r("div",{staticClass:"col-12"},[r("q-btn",{staticClass:"q-mx-lg",attrs:{color:"blue",disable:!e.checkIfAllselected,label:"Packaging Done"},on:{click:function(t){e.confirm=!e.confirm}}}),"Packing"===e.type?r("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[r("ConfirmPacking",{attrs:{dataTitle:"Packing"}})],1):e._e()],1)])],2):e._e(),"Delivering"===e.type?r("div",{staticClass:"row"},[r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Order ID:")])]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.id))])],1)],1),r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Items:")])]),e._l(t.item,(function(t){return r("q-item-label",{key:t.id,attrs:{caption:""}},[e._v(e._s(t.name)+" x"+e._s(t.qty))])}))],2)],1),r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Payment Method")])]),r("q-item-label",{attrs:{caption:""}},[e._v("COD")])],1)],1),r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Ordered")])]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.date)))])],1)],1),t.dateProcessingDone?r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Processed")])]),r("q-item-label",{attrs:{caption:""}},[e._v("\n              "+e._s(e.datefxn(t.dateProcessingDone))+"\n            ")])],1)],1):e._e(),t.datePackingDone?r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Packed")])]),r("q-item-label",{attrs:{caption:""}},[e._v("\n              "+e._s(e.datefxn(t.datePackingDone))+"\n            ")])],1)],1):e._e(),t.dateDelivering?r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Delivering")])]),r("q-item-label",{attrs:{caption:""}},[e._v("\n              "+e._s(e.datefxn(t.dateDelivering))+"\n            ")])],1)],1):e._e()]):e._e(),r("div",{staticClass:"row text-right"},[r("div",{staticClass:"col-12"},["Delivering"===e.type?r("q-btn",{staticClass:"q-mx-lg",attrs:{color:null===t.dateDelivering?"blue":"green",disable:null!==t.dateDelivering,outline:null!==t.dateDelivering,label:null===t.dateDelivering?"To Courier":"Delivering"},on:{click:function(t){e.confirm=!e.confirm}}}):e._e(),"Delivering"===e.type?r("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[r("ConfirmDelivery",{attrs:{dataTitle:"Delivering"}})],1):e._e()],1)])])})),"Delivering"!==e.type?r("div",[r("q-separator",{attrs:{spaced:""}}),r("q-item-label",{attrs:{header:""}},[e._v("Order Info")]),e._l(e.orderedItems,(function(t,a){return r("div",{key:a},[r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Order ID")]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.id))])],1)],1),r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Date Ordered")]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.date)))])],1)],1),t.received?r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Receive Date")]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.receivedDate)))])],1)],1):e._e(),r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Payment method")]),r("q-item-label",{attrs:{caption:""}},[e._v("COD")])],1)],1),t.dateProcessingDone?r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Processing done")]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.dateProcessingDone)))])],1)],1):e._e(),t.datePackingDone?r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Packing done")]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.datePackingDone)))])],1)],1):e._e()],1)}))],2):e._e()],2)],1)},i=[],n=(r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d"),r("c47a")),s=r.n(n),o=r("bd4c"),c=r("2f62"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card",[r("ModalHeader",[e._v("Confirm")]),r("ModalBody",[r("span",{staticClass:"q-ml-sm"},[e._v("\n      Are you sure that\n      "),r("span",{staticClass:"text-green"},[e._v(e._s(e.i.name))]),e._v("\n      is prepaired ?\n    ")])]),r("ModalActions",[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No",color:"primary"}}),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Yes",color:"primary"},on:{click:function(t){e.i.prepaired=!e.i.prepaired,e.i.stage="prepaired",e.cancelItem(e.i)}}})],1)],1)},d=[],m=(r("a481"),r("168b")),p=r("ad5d"),u=r("5626");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b={name:"Modal",data:function(){return{routeParams:this.$route.params.productId}},props:["i","dataTitle"],created:function(){this.$consola.success("cancelview",this.dataTitle)},computed:v({},Object(c["c"])(["ordered"])),methods:v({},Object(c["b"])(["editOrder"]),{cancelItem:function(){var e=this,t=[],r=this.ordered.filter((function(t){return t.id===e.routeParams}));for(var a in r){var i=r[a];for(var n in i.item)i.item[n].confirm=!1,t.push(i.item[n])}var s=t.filter((function(e){return e.prepaired}));t.length===s.length&&(r.map((function(e){return e.stage="Packing",e.dateProcessingDone=new Date})),"Processing"===this.dataTitle&&"sm"!==this.$mq?this.$router.replace("/admin/processing"):"Processing"===this.dataTitle&&"sm"===this.$mq&&this.$router.replace("/admin/mprocessing")),this.editOrder(this.ordered)}}),components:{ModalHeader:m["a"],ModalBody:p["a"],ModalActions:u["a"]}},g=b,q=r("2877"),h=r("eebe"),_=r.n(h),y=r("f09f"),O=r("9c40"),P=r("7f67"),D=Object(q["a"])(g,l,d,!1,null,null,null),k=D.exports;_()(D,"components",{QCard:y["a"],QBtn:O["a"]}),_()(D,"directives",{ClosePopup:P["a"]});var j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card",[r("ModalHeader",[e._v("Confirmation")]),r("ModalBody",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[e.error?r("span",{staticClass:"text-red text-caption"},[e._v(e._s(e.error))]):e._e(),r("p",{staticClass:"text-caption"},[e._v("\n          To confirm the package please enter user credentials\n        ")]),r("q-input",{attrs:{outlined:"",label:"User Password"},model:{value:e.userID,callback:function(t){e.userID=t},expression:"userID"}})],1)])]),r("ModalActions",[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No",color:"primary"}}),r("q-btn",{attrs:{flat:"",label:"Yes",color:"primary"},on:{click:function(t){return e.confirmPacking(e.i)}}})],1)],1)},x=[];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I={name:"Modal",data:function(){return{error:null,userID:null,routeParams:this.$route.params.productId}},props:["i","dataTitle"],created:function(){this.$consola.success("cancelview",this.dataTitle)},computed:w({},Object(c["c"])(["ordered"])),methods:w({},Object(c["b"])(["editOrder"]),{confirmPacking:function(){var e=this,t=[],r=this.ordered.filter((function(t){return t.id===e.routeParams}));for(var a in r){var i=r[a];for(var n in i.item)i.item[n].confirm=!1,t.push(i.item[n])}null!==this.userID?(r.forEach((function(e){return e.stage="Delivering",e.datePackingDone=new Date})),this.editOrder(this.ordered),"Packing"===this.dataTitle&&"sm"!==this.$mq?this.$router.replace("/admin/packing"):"Packing"===this.dataTitle&&"sm"===this.$mq&&this.$router.replace("/admin/mpacking")):this.error="Credentials Invalid"}}),components:{ModalHeader:m["a"],ModalBody:p["a"],ModalActions:u["a"]}},$=I,Q=r("27f9"),M=Object(q["a"])($,j,x,!1,null,null,null),T=M.exports;_()(M,"components",{QCard:y["a"],QInput:Q["a"],QBtn:O["a"]}),_()(M,"directives",{ClosePopup:P["a"]});var S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card",[r("ModalHeader",[e._v("Delivery Status")]),r("ModalBody",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"q-pa-md",staticStyle:{"max-height":"350px"}},[r("q-list",[e.error?r("p",{staticClass:"text-red text-caption"},[e._v(e._s(e.error))]):e._e(),e._v("\n            Riders\n            "),e._l(e.getRiders,(function(t){return r("q-item",{key:t.id,attrs:{tag:"label"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-radio",{attrs:{val:t,color:"green"},model:{value:e.sel,callback:function(t){e.sel=t},expression:"sel"}})],1),r("q-item-section",[r("q-item-label",[e._v(e._s(t.name))]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.plateNo))]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.vehicle))])],1),r("q-item-section",{attrs:{side:"",top:""}},[r("q-item-label",{attrs:{caption:""}},[e._v("On hand: "+e._s(t.itemsInHand.length))]),r("div",{staticClass:"text-orange"},[r("q-rating",{attrs:{max:"5",size:"1.0em",color:"green-5",icon:"star_border","icon-selected":"star","icon-half":"star_half"},model:{value:t.rating,callback:function(r){e.$set(t,"rating",r)},expression:"i.rating"}})],1)],1)],1)})),r("q-separator",{attrs:{spaced:"",inset:""}})],2)],1)])])]),r("ModalActions",[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No",color:"primary"}}),r("q-btn",{attrs:{flat:"",label:"Yes",color:"primary"},on:{click:function(t){return e.confirmDelivery(e.sel)}}})],1)],1)},E=[];function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R={name:"Modal",data:function(){return{sel:null,error:null,userID:null,routeParams:this.$route.params.productId,thumbStyle:{right:"4px",borderRadius:"5px",backgroundColor:"#027be3",width:"5px",opacity:.75},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#027be3",width:"9px",opacity:.2}}},props:["i","dataTitle"],created:function(){this.$consola.success("cancelview",this.dataTitle)},computed:B({},Object(c["c"])(["ordered","getRiders"])),methods:B({},Object(c["b"])(["editOrder","addItemsToRider"]),{confirmDelivery:function(e){var t=this;console.log(e);var r=[],a=this.ordered.filter((function(e){return e.id===t.routeParams}));for(var i in a){var n=a[i];for(var s in n.item)n.item[s].confirm=!1,r.push(n.item[s])}var o={id:a[0],rider:this.sel};this.addItemsToRider(o),null!==this.sel?(a.forEach((function(e){e.stage="Delivering",e.dateDelivering=new Date,e.userNotification="Yes",e.rider.push(t.sel)})),this.editOrder(this.ordered),"Delivering"===this.dataTitle&&"sm"!==this.$mq?this.$router.replace("/admin/delivering"):"Delivering"===this.dataTitle&&"sm"===this.$mq&&this.$router.replace("/admin/mdelivering")):this.error="Credentials Invalid"}}),components:{ModalHeader:m["a"],ModalBody:p["a"],ModalActions:u["a"]}},N=R,Y=r("1c1c"),H=r("66e5"),L=r("4074"),z=r("3786"),J=r("0170"),U=r("daf4"),F=r("eb85"),G=Object(q["a"])(N,S,E,!1,null,null,null),K=G.exports;function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}_()(G,"components",{QCard:y["a"],QList:Y["a"],QItem:H["a"],QItemSection:L["a"],QRadio:z["a"],QItemLabel:J["a"],QRating:U["a"],QSeparator:F["a"],QInput:Q["a"],QBtn:O["a"]}),_()(G,"directives",{ClosePopup:P["a"]});var X={data:function(){return{eds:"eds",confirm:!1,routeParams:this.$route.params.productId}},props:["type"],created:function(){console.log(this.orderedItems),console.log(this.checkIfAllselected)},beforeDestroy:function(){this.orderedItems.map((function(e){return e.item.map((function(e){return e.selected=!1}))}))},computed:W({},Object(c["c"])(["ordered"]),{checkIfAllselected:function(){var e=this.orderedItems.map((function(e){return e.item.every((function(e){return!0===e.selected}))}));return e[0]},orderedItems:function(){var e=this;return this.ordered.filter((function(t){return t.id===e.routeParams}))},calCulateItem:function(){var e=this,t=this.ordered.filter((function(t){return t.id===e.routeParams})),r=t.map((function(e){return e.item.filter((function(e){return!e.cancelled}))})),a=r.map((function(e){return e.reduce((function(e,t){return t.price*t.qty+e}),0)}));return parseInt(a)}}),methods:W({},Object(c["b"])(["editOrder"]),{datefxn:function(e){return o["b"].formatDate(e,"MMM-DD-YYYY h:mmA")}}),components:{Prepaired:k,ConfirmPacking:T,ConfirmDelivery:K}},Z=X,ee=(r("13b7"),r("068f")),te=r("24e8"),re=r("8f8e"),ae=Object(q["a"])(Z,a,i,!1,null,null,null);t["default"]=ae.exports;_()(ae,"components",{QList:Y["a"],QItemLabel:J["a"],QItem:H["a"],QItemSection:L["a"],QImg:ee["a"],QBtn:O["a"],QDialog:te["a"],QCheckbox:re["a"],QSeparator:F["a"]})}}]);