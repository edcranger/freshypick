(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"168b":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card-section",[r("div",{staticClass:"text-h6"},[e._t("default")],2)])},n=[],i={},o=i,s=r("2877"),c=r("eebe"),l=r.n(c),d=r("a370"),u=Object(s["a"])(o,a,n,!1,null,null,null);t["a"]=u.exports;l()(u,"components",{QCardSection:d["a"]})},"2fb2":function(e,t,r){"use strict";var a=r("308b"),n=r.n(a);n.a},"308b":function(e,t,r){},5626:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card-actions",{attrs:{align:"right"}},[e._t("default")],2)},n=[],i={},o=i,s=r("2877"),c=r("eebe"),l=r.n(c),d=r("4b7e"),u=Object(s["a"])(o,a,n,!1,null,null,null);t["a"]=u.exports;l()(u,"components",{QCardActions:d["a"]})},ad5d:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card-section",{staticClass:"row items-center scroll"},[e._t("default")],2)},n=[],i={},o=i,s=r("2877"),c=r("eebe"),l=r.n(c),d=r("a370"),u=Object(s["a"])(o,a,n,!1,null,null,null);t["a"]=u.exports;l()(u,"components",{QCardSection:d["a"]})},f42d:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{attrs:{padding:""}},[r("q-list",{staticClass:"bg-white",attrs:{bordered:"",padding:""}},[r("q-item-label",{attrs:{header:""}},[r("h5",{staticClass:"q-my-none"},[e._v(e._s(e.type))])]),r("q-item-label",{attrs:{header:""}},[e._v("Order #"+e._s(e.routeParams))]),e._l(e.orderedItems,(function(t){return r("div",{key:t.id},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Order ID:")])]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.id))])],1)],1),r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Items:")])]),e._l(t.item,(function(t){return r("q-item-label",{key:t.id,attrs:{caption:""}},[e._v(e._s(t.name)+" x"+e._s(t.qty))])}))],2)],1),r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Payment Method")])]),r("q-item-label",{attrs:{caption:""}},[e._v("COD")])],1)],1),r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Ordered")])]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.date)))])],1)],1),t.dateProcessingDone?r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Processed")])]),r("q-item-label",{attrs:{caption:""}},[e._v("\n              "+e._s(e.datefxn(t.dateProcessingDone))+"\n            ")])],1)],1):e._e(),t.datePackingDone?r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Packed")])]),r("q-item-label",{attrs:{caption:""}},[e._v("\n              "+e._s(e.datefxn(t.datePackingDone))+"\n            ")])],1)],1):e._e(),t.dateDelivering?r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Delivering")])]),r("q-item-label",{attrs:{caption:""}},[e._v("\n              "+e._s(e.datefxn(t.dateDelivering))+"\n            ")])],1)],1):e._e(),r("div",{staticClass:"row text-right"},[r("div",{staticClass:"col-12"},[r("q-btn",{staticClass:"q-mx-lg",attrs:{color:null===t.dateDelivering?"blue":"green",disable:null!==t.dateDelivering,outline:null!==t.dateDelivering,label:null===t.dateDelivering?"To Courier":"Delivering"},on:{click:function(t){e.confirm=!e.confirm}}}),r("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[r("ConfirmDelivery")],1)],1)])])])}))],2)],1)},n=[],i=(r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d"),r("c47a")),o=r.n(i),s=r("bd4c"),c=r("2f62"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card",[r("ModalHeader",[e._v("Delivery Status")]),r("ModalBody",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"q-pa-md",staticStyle:{"max-height":"350px"}},[r("q-list",[e.error?r("p",{staticClass:"text-red text-caption"},[e._v(e._s(e.error))]):e._e(),e._v("\n            Riders\n            "),e._l(e.getRiders,(function(t){return r("q-item",{key:t.id,attrs:{tag:"label"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-radio",{attrs:{val:t,color:"green"},model:{value:e.sel,callback:function(t){e.sel=t},expression:"sel"}})],1),r("q-item-section",[r("q-item-label",[e._v(e._s(t.name))]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.plateNo))]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.vehicle))])],1),r("q-item-section",{attrs:{side:"",top:""}},[r("q-item-label",{attrs:{caption:""}},[e._v("On hand: "+e._s(t.itemsInHand.length))]),r("div",{staticClass:"text-orange"},[r("q-rating",{attrs:{max:"5",size:"1.0em",color:"green-5",icon:"star_border","icon-selected":"star","icon-half":"star_half"},model:{value:t.rating,callback:function(r){e.$set(t,"rating",r)},expression:"i.rating"}})],1)],1)],1)})),r("q-separator",{attrs:{spaced:"",inset:""}})],2)],1)])])]),r("ModalActions",[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No",color:"primary"}}),r("q-btn",{attrs:{flat:"",label:"Yes",color:"primary"},on:{click:function(t){return e.confirmDelivery(e.sel)}}})],1)],1)},d=[],u=(r("a481"),r("168b")),m=r("ad5d"),p=r("5626");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={name:"Modal",data:function(){return{sel:null,error:null,userID:null,routeParams:this.$route.params.productOrderId,thumbStyle:{right:"4px",borderRadius:"5px",backgroundColor:"#027be3",width:"5px",opacity:.75},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#027be3",width:"9px",opacity:.2}}},props:["i","dataTitle"],created:function(){this.$consola.success("cancelview",this.dataTitle)},computed:b({},Object(c["c"])(["ordered","getRiders"])),methods:b({},Object(c["b"])(["editOrder","addItemsToRider"]),{confirmDelivery:function(e){var t=this;console.log(e);var r=[],a=this.ordered.filter((function(e){return e.id===t.routeParams}));for(var n in a){var i=a[n];for(var o in i.item)i.item[o].confirm=!1,r.push(i.item[o])}var s={id:a[0],rider:this.sel};this.addItemsToRider(s),null!==this.sel?(a.forEach((function(e){e.stage="Delivering",e.dateDelivering=new Date,e.userNotification="Yes",e.rider=t.sel.id})),this.editOrder(this.ordered),this.$router.replace("/admining/delivering")):this.error="Credentials Invalid"}}),components:{ModalHeader:u["a"],ModalBody:m["a"],ModalActions:p["a"]}},g=v,q=r("2877"),h=r("eebe"),_=r.n(h),O=r("f09f"),y=r("1c1c"),D=r("66e5"),C=r("4074"),j=r("3786"),P=r("0170"),x=r("daf4"),w=r("eb85"),I=r("27f9"),k=r("9c40"),Q=r("7f67"),S=Object(q["a"])(g,l,d,!1,null,null,null),M=S.exports;function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}_()(S,"components",{QCard:O["a"],QList:y["a"],QItem:D["a"],QItemSection:C["a"],QRadio:j["a"],QItemLabel:P["a"],QRating:x["a"],QSeparator:w["a"],QInput:I["a"],QBtn:k["a"]}),_()(S,"directives",{ClosePopup:Q["a"]});var R={data:function(){return{eds:"eds",confirm:!1,routeParams:this.$route.params.productOrderId}},props:["type"],created:function(){console.log(this.orderedItems),console.log(this.checkIfAllselected)},beforeDestroy:function(){this.orderedItems.map((function(e){return e.item.map((function(e){return e.selected=!1}))}))},computed:$({},Object(c["c"])(["ordered"]),{checkIfAllselected:function(){var e=this.orderedItems.map((function(e){return e.item.every((function(e){return!0===e.selected}))}));return e[0]},orderedItems:function(){var e=this;return this.ordered.filter((function(t){return t.id===e.routeParams}))},calCulateItem:function(){var e=this,t=this.ordered.filter((function(t){return t.id===e.routeParams})),r=t.map((function(e){return e.item.filter((function(e){return!e.cancelled}))})),a=r.map((function(e){return e.reduce((function(e,t){return t.price*t.qty+e}),0)}));return parseInt(a)}}),methods:$({},Object(c["b"])(["editOrder"]),{datefxn:function(e){return s["b"].formatDate(e,"MMM-DD-YYYY h:mmA")}}),components:{ConfirmDelivery:M}},A=R,Y=(r("2fb2"),r("9989")),T=r("24e8"),B=Object(q["a"])(A,a,n,!1,null,null,null);t["default"]=B.exports;_()(B,"components",{QPage:Y["a"],QList:y["a"],QItemLabel:P["a"],QItemSection:C["a"],QBtn:k["a"],QDialog:T["a"]})}}]);