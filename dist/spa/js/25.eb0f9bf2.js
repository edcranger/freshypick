(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"6b29":function(t,e,s){"use strict";var a=s("ec8f"),n=s.n(a);n.a},ec8f:function(t,e,s){},f68e:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{appear:"","enter-active-class":"sm"===t.$mq?"animated fadeIn ":"animated fadeIn"}},[t.loading?s("q-spinner-hourglass",{staticClass:"fixed-center",attrs:{color:"light-green",size:"10rem"}}):s("q-page",{class:"sm"===t.$mq||"md"===t.$mq?" row wrap justify-start items-start content-start q-px-sm":"web row wrap justify-start items-start content-start q-px-sm"},[0===t.getCartItems.cartCount?s("div",{staticClass:"absolute-center"},[s("p",{staticClass:"text-center text-h6 text-grey-8"},[t._v("No Items in the cart")]),s("q-btn",{staticStyle:{color:"green"},attrs:{outline:"",label:"Continue Shopping",to:"/"}})],1):t._e(),0!==t.getCartItems.cartCount?s("div",{staticClass:"col-12 col-sm-8 col-md-8 q-mb-xl shadow-1 bg-white q-mt-sm"},["sm"!==t.$mq?s("q-breadcrumbs",{staticClass:"text-brown q-ma-md",scopedSlots:t._u([{key:"separator",fn:function(){return[s("q-icon",{attrs:{size:"1.5em",name:"chevron_right",color:"primary"}})]},proxy:!0}],null,!1,1029195755)},[s("q-breadcrumbs-el",{attrs:{label:"Home",icon:"fas fa-carrot"}}),s("q-breadcrumbs-el",{attrs:{label:"Cart",icon:"shopping_cart"}})],1):t._e(),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("q-toolbar",[s("q-checkbox",{attrs:{label:"All"},nativeOn:{click:function(e){return t.allSelected(e)}},model:{value:t.selectAllItem,callback:function(e){t.selectAllItem=e},expression:"selectAllItem"}}),s("q-space"),s("p",[t._v(t._s({quantity:t.selectedItems.map((function(t){return t.product.name}))}))]),s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"delete"},on:{click:function(e){t.deleteItem(t.selectedItems.map((function(t){return t._id})))}}})],1),s("q-separator",{attrs:{inset:""}})],1),t._l(t.getCartItems.cart,(function(e){return s("div",{key:e._id,staticClass:"col-12 bg-white"},[s("div",{staticClass:"row q-pa-sm"},[s("div",{staticClass:"col-1 col-md-1 q-mr-md"},[s("q-checkbox",{staticClass:"q-ml-xs",nativeOn:{click:function(s){return t.selectOneCheckbox(e.id)}},model:{value:e.selected,callback:function(s){t.$set(e,"selected",s)},expression:"item.selected"}})],1),s("div",{staticClass:"col-md-3 col-4"},[e.deleting?s("q-skeleton",{staticClass:"q-mt-md",attrs:{width:"100px",height:"50px"}}):t._e(),e.deleting?t._e():s("q-img",{staticStyle:{height:"100px","max-width":"100px"},attrs:{src:"http://localhost:3000/"+e.product.photos[0],"spinner-color":"white"}})],1),s("div",{staticClass:"col"},[s("div",{staticClass:"q-mt-md"},[e.deleting?s("q-skeleton",{attrs:{type:"text",width:"100px"}}):t._e(),e.deleting?t._e():s("strong",{},[t._v("\n                  "+t._s(e.product.name)+"\n                ")])],1),s("div",{staticClass:"q-ma-none"},[e.deleting?s("q-skeleton",{attrs:{type:"text",width:"100px"}}):t._e(),e.deleting?t._e():s("span",[t._v("₱"+t._s(e.product.price)+"/kg")])],1),s("div",{staticClass:"fit row wrap justify-end items-start content-start q-mt-md"},[e.product.spinner?s("q-spinner-ball",{staticClass:"q-mr-xl q-pb-md",attrs:{color:"green",size:"60px"}}):s("div",{attrs:{id:"pow"}},[s("q-input",{attrs:{outlined:"","bottom-slots":"",type:"number",maxlength:"2",dense:""},on:{change:function(s){return t.cartAction(e.product._id,e.quantity,"changeQty")}},scopedSlots:t._u([{key:"before",fn:function(){return[s("q-btn",{attrs:{flat:"",round:"",icon:"fas fa-minus-square"},on:{click:function(s){return t.cartAction(e.product._id,1,"minus")}}})]},proxy:!0},{key:"after",fn:function(){return[s("q-btn",{attrs:{flat:"",round:"",icon:"fas fa-plus-square"},on:{click:function(s){return t.cartAction(e.product._id,1,"add")}}})]},proxy:!0}],null,!0),model:{value:e.quantity,callback:function(s){t.$set(e,"quantity",s)},expression:"item.quantity"}})],1)],1)])]),s("q-separator",{attrs:{inset:""}})],1)}))],2)],1):t._e(),0!==t.getCartItems.cartCount?s("div",{staticClass:"orderSummaryCol col text-grey-10 q-mt-sm q-mx-sm q-pa-md shadow-1 bg-white"},[s("h6",{staticClass:"q-my-sm"},[t._v("Order Summary")]),s("div",{staticClass:"row q-mt-none"},[s("div",{staticClass:"col-8"},[s("p",{staticClass:"q-mt-none"},[t._v("\n            Subtotal ("+t._s(t.getCartItems.cartCount)+" items)\n          ")])]),s("div",{staticClass:"col-4 text-right"},[t._v("₱"+t._s(t.selectedTotal))]),s("div",{staticClass:"col-8"},[s("p",[t._v("Shipping cost")])]),s("div",{staticClass:"col-4 text-right"},[t._v("₱50.00")]),s("q-separator",{attrs:{inset:""}})],1),s("div",{staticClass:"row q-mb-md"},[s("div",{staticClass:"col-8 q-mt-lg"},[s("p",{staticClass:"text-subtitle2"},[t._v("Total")])]),s("div",{staticClass:"col-4 q-mt-lg"},[s("p",{staticClass:"text-right text-green text-subtitle2"},[t._v("\n            ₱"+t._s(t.selectedTotal)+"\n          ")])])]),s("div",{staticClass:"row justify-center"},[s("q-btn",{attrs:{color:"purple",label:"Proceed to checkout",size:"md",disable:0===t.selectedItems.length},on:{click:function(e){return t.checkOut()}}})],1)]):t._e(),0!==t.getCartItems.cartCount?s("q-banner",{staticClass:"orderSummaryButtomCol bg-white fixed-bottom"},[s("div",{staticClass:"fit row wrap"},[s("div",{staticClass:"col-8"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 text-right"},[t._v("\n              SubTotal: ₱"+t._s(t.selectedTotal)+"\n            ")]),s("div",{staticClass:"col-12 text-right"},[t._v("Points:0")])])]),s("div",{staticClass:"col-4"},[s("div",{staticClass:"row justify-end"},[s("q-btn",{attrs:{color:"purple",disable:0===t.selectedItems.length,dense:""},on:{click:function(e){return t.checkOut()}}},[t._v("Check out")])],1)])])]):t._e()],1)],1)},n=[],r=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("7514"),s("c47a")),c=s.n(r),i=s("2f62");function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){c()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={name:"PageIndex",data:function(){return{selectAllItem:!1,cartItems:null,total:null,count:null,loading:!1}},computed:l({},Object(i["c"])(["cart"]),{getCartItems:function(){return this.cart},selectedItems:function(){return this.getCartItems.cart.filter((function(t){return t.selected}))},selectedTotal:function(){return this.selectedItems.reduce((function(t,e){return e.total+t}),0)}}),methods:l({},Object(i["b"])(["getCart","cartItemFxn","cartSelect","deleteToCart"]),{cartAction:function(t,e,s){var a=this.getCartItems.cart.map((function(t){return t.product})).find((function(e){return e._id===t}));if("add"===s||"minus"===s||"changeQty"===s)var n=this.getCartItems.cart.find((function(e){return e.product._id===t}))._id;a.spinner=!0,this.cartItemFxn({productId:t,cartId:n,payload:{quantity:e,cartFxnType:s}})},allSelected:function(){this.cartSelect({selectAll:this.selectAllItem})},selectOneCheckbox:function(){this.selectAllItem=!1},deleteItem:function(t){var e=this;this.deleteToCart(t).then((function(t){return e.$consola.success("deleted",t)}))},checkOut:function(){this.$router.push({name:"checkout",params:{selectedFromCart:this.selectedItems}})}}),created:function(){}},d=u,m=(s("6b29"),s("2877")),p=s("eebe"),f=s.n(p),b=s("9149"),h=s("9989"),C=s("9c40"),g=s("ead5"),v=s("0016"),q=s("079e"),x=s("65c6"),_=s("8f8e"),y=s("2c91"),w=s("eb85"),I=s("293e"),k=s("068f"),O=s("a403"),S=s("27f9"),j=s("54e1"),Q=Object(m["a"])(d,a,n,!1,null,"8ff2ea2e",null);e["default"]=Q.exports;f()(Q,"components",{QSpinnerHourglass:b["a"],QPage:h["a"],QBtn:C["a"],QBreadcrumbs:g["a"],QIcon:v["a"],QBreadcrumbsEl:q["a"],QToolbar:x["a"],QCheckbox:_["a"],QSpace:y["a"],QSeparator:w["a"],QSkeleton:I["a"],QImg:k["a"],QSpinnerBall:O["a"],QInput:S["a"],QBanner:j["a"]})}}]);