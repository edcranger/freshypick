(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"13b7":function(e,t,r){"use strict";var a=r("b1f9"),i=r.n(a);i.a},"168b":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card-section",[r("div",{staticClass:"text-h6"},[e._t("default")],2)])},i=[],n={},o=n,s=r("2877"),c=r("eebe"),l=r.n(c),d=r("a370"),p=Object(s["a"])(o,a,i,!1,null,null,null);t["a"]=p.exports;l()(p,"components",{QCardSection:d["a"]})},5626:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card-actions",{attrs:{align:"right"}},[e._t("default")],2)},i=[],n={},o=n,s=r("2877"),c=r("eebe"),l=r.n(c),d=r("4b7e"),p=Object(s["a"])(o,a,i,!1,null,null,null);t["a"]=p.exports;l()(p,"components",{QCardActions:d["a"]})},ad5d:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card-section",{staticClass:"row items-center scroll"},[e._t("default")],2)},i=[],n={},o=n,s=r("2877"),c=r("eebe"),l=r.n(c),d=r("a370"),p=Object(s["a"])(o,a,i,!1,null,null,null);t["a"]=p.exports;l()(p,"components",{QCardSection:d["a"]})},b1f9:function(e,t,r){},d16d:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("q-list",{staticClass:"bg-white",attrs:{bordered:"",padding:""}},[r("q-item-label",{attrs:{header:""}},[r("h5",{staticClass:"q-my-none"},[e._v(e._s(e.type))])]),r("q-item-label",{attrs:{header:""}},[e._v("Order #"+e._s(e.routeParams))]),e._l(e.orderedItems,(function(t){return r("div",{key:t.id},["All Orders"===e.type||"Completed"===e.type?r("div",[e._l(t.item,(function(t){return r("q-item",{key:t.id},[r("q-item-section",{attrs:{avatar:""}},[r("q-img",{class:t.cancelled?"grayscale":"",attrs:{src:t.photo[0].url,"spinner-color":"white",width:"40px"}})],1),r("q-item-section",{class:t.cancelled?"col text-strike":"col"},[r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.name))]),r("q-item-label",{attrs:{caption:""}},[e._v("x"+e._s(t.qty))])],1)],1)})),r("div",{staticClass:"row text-right"},[r("div",{staticClass:"col-12"},[r("q-btn",{staticClass:"q-mx-lg",attrs:{color:"green",outline:"",size:"lg",disable:"",label:t.stage}}),"Packing"===e.type?r("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[r("ConfirmPacking")],1):e._e()],1)])],2):e._e(),"Processing"===e.type?r("div",e._l(t.item,(function(a){return r("q-item",{key:a.id},[r("q-item-section",[r("q-img",{class:a.cancelled?"grayscale":"",attrs:{src:a.photo[0].url,"spinner-color":"white",width:"50px"}})],1),r("q-item-section",{class:a.cancelled?"col text-strike":"col"},[r("q-item-label",[e._v(e._s(a.name)+" x"+e._s(a.qty))])],1),r("q-item-section",{attrs:{side:"",center:""}},[t.received?e._e():r("q-btn",{attrs:{color:a.prepaired?"green":"blue",dense:"sm"===e.$mq,disable:a.prepaired,glossy:"",label:a.prepaired?"Done":"Checked"},on:{click:function(e){a.confirm=!a.confirm}}}),r("q-dialog",{attrs:{persistent:""},model:{value:a.confirm,callback:function(t){e.$set(a,"confirm",t)},expression:"i.confirm"}},[r("Prepaired",{attrs:{i:a,dataTitle:"Processing"}})],1)],1)],1)})),1):e._e(),"Packing"===e.type?r("div",[e._l(t.item,(function(t){return r("q-item",{key:t.id},[r("q-item-section",{attrs:{avatar:""}},[r("q-checkbox",{model:{value:t.selected,callback:function(r){e.$set(t,"selected",r)},expression:"i.selected"}},[r("q-img",{class:t.cancelled?"grayscale":"",attrs:{src:t.photo[0].url,"spinner-color":"white",width:"40px"}})],1)],1),r("q-item-section",{class:t.cancelled?"col text-strike":"col"},[r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.name))]),r("q-item-label",{attrs:{caption:""}},[e._v("x"+e._s(t.qty))])],1)],1)})),r("div",{staticClass:"row text-right"},[r("div",{staticClass:"col-12"},[r("q-btn",{staticClass:"q-mx-lg",attrs:{color:"blue",disable:!e.checkIfAllselected,label:"Packaging Done"},on:{click:function(t){e.confirm=!e.confirm}}}),"Packing"===e.type?r("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[r("ConfirmPacking",{attrs:{dataTitle:"Packing"}})],1):e._e()],1)])],2):e._e(),"Delivering"===e.type?r("div",{staticClass:"row"},[r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Order ID:")])]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.id))])],1)],1),r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Items:")])]),e._l(t.item,(function(t){return r("q-item-label",{key:t.id,attrs:{caption:""}},[e._v(e._s(t.name)+" x"+e._s(t.qty))])}))],2)],1),r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Payment Method")])]),r("q-item-label",{attrs:{caption:""}},[e._v("COD")])],1)],1),r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Ordered")])]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.date)))])],1)],1),t.dateProcessingDone?r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Processed")])]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.dateProcessingDone)))])],1)],1):e._e(),t.datePackingDone?r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Packed")])]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.datePackingDone)))])],1)],1):e._e(),t.dateDelivering?r("div",{staticClass:"col-4 q-ml-md q-pa-md"},[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[r("strong",[e._v("Date Delivering")])]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.dateDelivering)))])],1)],1):e._e()]):e._e(),r("div",{staticClass:"row text-right"},[r("div",{staticClass:"col-12"},["Delivering"===e.type?r("q-btn",{staticClass:"q-mx-lg",attrs:{color:null===t.dateDelivering?"blue":"green",disable:null!==t.dateDelivering,outline:null!==t.dateDelivering,label:null===t.dateDelivering?"To Courier":"Delivering"},on:{click:function(t){e.confirm=!e.confirm}}}):e._e(),"Delivering"===e.type?r("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[r("ConfirmDelivery",{attrs:{dataTitle:"Delivering"}})],1):e._e()],1)])])})),"Delivering"!==e.type?r("div",[r("q-separator",{attrs:{spaced:""}}),r("q-item-label",{attrs:{header:""}},[e._v("Order Info")]),e._l(e.orderedItems,(function(t,a){return r("div",{key:a},[r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Order ID")]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.id))])],1)],1),r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Date Ordered")]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.date)))])],1)],1),t.received?r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Receive Date")]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.datefxn(t.receivedDate)))])],1)],1):e._e(),r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Payment method")]),r("q-item-label",{attrs:{caption:""}},[e._v("COD")])],1)],1),t.dateProcessingDone?r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Processing done")]),r("q-item-label",{attrs:{caption:""}},[e._v("\n              "+e._s(e.datefxn(t.dateProcessingDone))+"\n            ")])],1)],1):e._e(),t.datePackingDone?r("q-item",[r("q-item-section",[r("q-item-label",{attrs:{caption:""}},[e._v("Packing done")]),r("q-item-label",{attrs:{caption:""}},[e._v("\n              "+e._s(e.datefxn(t.datePackingDone))+"\n            ")])],1)],1):e._e()],1)}))],2):e._e()],2)],1)},i=[],n=(r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d"),r("c47a")),o=r.n(n),s=r("bd4c"),c=r("2f62"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card",[r("ModalHeader",[e._v("Confirm")]),r("ModalBody",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 q-gutter-sm"},[r("p",[e._v("What storage do you want to get the item:")])]),r("div",{staticClass:"col-12 q-gutter-sm"},[r("q-option-group",{attrs:{options:e.storageOption,label:"Notifications",type:"radio"},model:{value:e.storageValue,callback:function(t){e.storageValue=t},expression:"storageValue"}})],1)])]),r("ModalActions",[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No",color:"primary"}}),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Yes",color:"primary"},on:{click:function(t){e.i.prepaired=!e.i.prepaired,e.i.stage="prepaired",e.prepaire(e.i)}}})],1)],1)},d=[],p=(r("a481"),r("7f7f"),r("168b")),m=r("ad5d"),u=r("5626");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b={name:"Modal",data:function(){return{routeParams:this.$route.params.productId,storageValue:null}},props:["i","dataTitle"],created:function(){this.$consola.success("prepaire",this.i)},computed:v({},Object(c["c"])(["ordered","products"]),{storageOption:function(){var e=[];return this.i.inventory.map((function(t){return e.push({label:t.name,value:t.name})})),e}}),methods:v({},Object(c["b"])(["editOrder"]),{prepaire:function(){var e=this,t=[];this.i.inventory.map((function(t){t.name===e.storageValue&&(t.qty-=e.i.qty)})),this.$consola.success("after prepaire",this.i);var r=this.ordered.filter((function(t){return t.id===e.routeParams}));for(var a in r){var i=r[a];for(var n in i.item)i.item[n].confirm=!1,t.push(i.item[n])}var o=t.filter((function(e){return e.prepaired}));t.length===o.length&&(r.map((function(e){return e.stage="Packing",e.dateProcessingDone=new Date})),"Processing"===this.dataTitle&&"sm"!==this.$mq?this.$router.replace("/admin/processing"):"Processing"===this.dataTitle&&"sm"===this.$mq&&this.$router.replace("/admin/mprocessing")),this.editOrder(this.ordered)}}),components:{ModalHeader:p["a"],ModalBody:m["a"],ModalActions:u["a"]}},g=b,h=r("2877"),q=r("eebe"),_=r.n(q),y=r("f09f"),O=r("9f0a"),P=r("9c40"),D=r("7f67"),k=Object(h["a"])(g,l,d,!1,null,null,null),C=k.exports;_()(k,"components",{QCard:y["a"],QOptionGroup:O["a"],QBtn:P["a"]}),_()(k,"directives",{ClosePopup:D["a"]});var j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card",[r("ModalHeader",[e._v("Confirmation")]),r("ModalBody",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[e.error?r("span",{staticClass:"text-red text-caption"},[e._v(e._s(e.error))]):e._e(),r("p",{staticClass:"text-caption"},[e._v("\n          To confirm the package please enter user credentials\n        ")]),r("q-input",{attrs:{outlined:"",label:"User Password"},model:{value:e.userID,callback:function(t){e.userID=t},expression:"userID"}})],1)])]),r("ModalActions",[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No",color:"primary"}}),r("q-btn",{attrs:{flat:"",label:"Yes",color:"primary"},on:{click:function(t){return e.confirmPacking(e.i)}}})],1)],1)},x=[];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $={name:"Modal",data:function(){return{error:null,userID:null,routeParams:this.$route.params.productId}},props:["i","dataTitle"],created:function(){this.$consola.success("cancelview",this.dataTitle)},computed:I({},Object(c["c"])(["ordered"])),methods:I({},Object(c["b"])(["editOrder"]),{confirmPacking:function(){var e=this,t=[],r=this.ordered.filter((function(t){return t.id===e.routeParams}));for(var a in r){var i=r[a];for(var n in i.item)i.item[n].confirm=!1,t.push(i.item[n])}null!==this.userID?(r.forEach((function(e){return e.stage="Delivering",e.datePackingDone=new Date})),this.editOrder(this.ordered),"Packing"===this.dataTitle&&"sm"!==this.$mq?this.$router.replace("/admin/packing"):"Packing"===this.dataTitle&&"sm"===this.$mq&&this.$router.replace("/admin/mpacking")):this.error="Credentials Invalid"}}),components:{ModalHeader:p["a"],ModalBody:m["a"],ModalActions:u["a"]}},Q=$,M=r("27f9"),S=Object(h["a"])(Q,j,x,!1,null,null,null),T=S.exports;_()(S,"components",{QCard:y["a"],QInput:M["a"],QBtn:P["a"]}),_()(S,"directives",{ClosePopup:D["a"]});var E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-card",[r("ModalHeader",[e._v("Delivery Status")]),r("ModalBody",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"q-pa-md",staticStyle:{"max-height":"350px"}},[r("q-list",[e.error?r("p",{staticClass:"text-red text-caption"},[e._v(e._s(e.error))]):e._e(),e._v("\n            Riders\n            "),e._l(e.getRiders,(function(t){return r("q-item",{key:t.id,attrs:{tag:"label"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-radio",{attrs:{val:t,color:"green"},model:{value:e.sel,callback:function(t){e.sel=t},expression:"sel"}})],1),r("q-item-section",[r("q-item-label",[e._v(e._s(t.name))]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.plateNo))]),r("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.vehicle))])],1),r("q-item-section",{attrs:{side:"",top:""}},[r("q-item-label",{attrs:{caption:""}},[e._v("On hand: "+e._s(t.itemsInHand.length))]),r("div",{staticClass:"text-orange"},[r("q-rating",{attrs:{max:"5",size:"1.0em",color:"green-5",icon:"star_border","icon-selected":"star","icon-half":"star_half"},model:{value:t.rating,callback:function(r){e.$set(t,"rating",r)},expression:"i.rating"}})],1)],1)],1)})),r("q-separator",{attrs:{spaced:"",inset:""}})],2)],1)])])]),r("ModalActions",[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No",color:"primary"}}),r("q-btn",{attrs:{flat:"",label:"Yes",color:"primary"},on:{click:function(t){return e.confirmDelivery(e.sel)}}})],1)],1)},A=[];function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R={name:"Modal",data:function(){return{sel:null,error:null,userID:null,routeParams:this.$route.params.productId,thumbStyle:{right:"4px",borderRadius:"5px",backgroundColor:"#027be3",width:"5px",opacity:.75},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#027be3",width:"9px",opacity:.2}}},props:["i","dataTitle"],created:function(){this.$consola.success("cancelview",this.dataTitle)},computed:N({},Object(c["c"])(["ordered","getRiders"])),methods:N({},Object(c["b"])(["editOrder","addItemsToRider"]),{confirmDelivery:function(e){var t=this;console.log(e);var r=[],a=this.ordered.filter((function(e){return e.id===t.routeParams}));for(var i in a){var n=a[i];for(var o in n.item)n.item[o].confirm=!1,r.push(n.item[o])}var s={id:a[0],rider:this.sel};this.addItemsToRider(s),null!==this.sel?(a.forEach((function(e){e.stage="Delivering",e.dateDelivering=new Date,e.userNotification="Yes",e.rider.push(t.sel)})),this.editOrder(this.ordered),"Delivering"===this.dataTitle&&"sm"!==this.$mq?this.$router.replace("/admin/delivering"):"Delivering"===this.dataTitle&&"sm"===this.$mq&&this.$router.replace("/admin/mdelivering")):this.error="Credentials Invalid"}}),components:{ModalHeader:p["a"],ModalBody:m["a"],ModalActions:u["a"]}},Y=R,H=r("1c1c"),V=r("66e5"),L=r("4074"),z=r("3786"),J=r("0170"),G=r("daf4"),U=r("eb85"),W=Object(h["a"])(Y,E,A,!1,null,null,null),F=W.exports;function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}_()(W,"components",{QCard:y["a"],QList:H["a"],QItem:V["a"],QItemSection:L["a"],QRadio:z["a"],QItemLabel:J["a"],QRating:G["a"],QSeparator:U["a"],QInput:M["a"],QBtn:P["a"]}),_()(W,"directives",{ClosePopup:D["a"]});var Z={data:function(){return{eds:"eds",confirm:!1,routeParams:this.$route.params.productId}},props:["type"],created:function(){console.log(this.orderedItems),console.log(this.checkIfAllselected)},beforeDestroy:function(){this.orderedItems.map((function(e){return e.item.map((function(e){return e.selected=!1}))}))},computed:X({},Object(c["c"])(["ordered"]),{checkIfAllselected:function(){var e=this.orderedItems.map((function(e){return e.item.every((function(e){return!0===e.selected}))}));return e[0]},orderedItems:function(){var e=this;return this.ordered.filter((function(t){return t.id===e.routeParams}))},calCulateItem:function(){var e=this,t=this.ordered.filter((function(t){return t.id===e.routeParams})),r=t.map((function(e){return e.item.filter((function(e){return!e.cancelled}))})),a=r.map((function(e){return e.reduce((function(e,t){return t.price*t.qty+e}),0)}));return parseInt(a)}}),methods:X({},Object(c["b"])(["editOrder"]),{datefxn:function(e){return s["b"].formatDate(e,"MMM-DD-YYYY h:mmA")}}),components:{Prepaired:C,ConfirmPacking:T,ConfirmDelivery:F}},ee=Z,te=(r("13b7"),r("068f")),re=r("24e8"),ae=r("8f8e"),ie=Object(h["a"])(ee,a,i,!1,null,null,null);t["default"]=ie.exports;_()(ie,"components",{QList:H["a"],QItemLabel:J["a"],QItem:V["a"],QItemSection:L["a"],QImg:te["a"],QBtn:P["a"],QDialog:re["a"],QCheckbox:ae["a"],QSeparator:U["a"]})}}]);